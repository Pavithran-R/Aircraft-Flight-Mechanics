

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assumed knowledge &#8212; Aircraft Flight Mechanics by Harry Smith, PhD</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Aircraft Performance" href="../AircraftPerformance/Introduction.html" />
    <link rel="prev" title="Course Introduction" href="../CourseIntroduction.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/Logo2.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Aircraft Flight Mechanics by Harry Smith, PhD</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <p class="caption">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../CourseIntroduction.html">
   Course Introduction
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Assumed knowledge
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Aircraft Performance
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/Introduction.html">
   Aircraft Performance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/Airspeed.html">
   Defining Aircraft ‘Speed’
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/SteadyLevelFlight.html">
   Steady Level Flight
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/GlidingFlight.html">
   Climbing and Gliding Caveat
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/GlidingFlight.html#gliding-flight-unpowered-descent">
   Gliding Flight (Unpowered Descent)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/ClimbingFlight.html">
   Climbing Flight
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/RangeandEndurance.html">
   Range and Endurance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/Manoeuvre.html">
   Acceleration, Manoeuvres, and Aircraft Loading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../AircraftPerformance/Examples.html">
   Questions and Solutions
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Static Stability
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/StaticStability.html">
   Defining Static Stability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/Angles.html">
   Co-ordinate system and Angles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/LSS.html">
   Longitudinal Stability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/Nondimensionalrates.html">
   Non-dimensional rates
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/Lateral.html">
   Lateral Stability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/Directional.html">
   Directional Stability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../StaticStability/CrossCouplings.html">
   Cross-couplings
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Aircraft Equations of Motion
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/EulerTransforms.html">
   Axes Transformations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/RelativeMotion.html">
   Absolute Acceleration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/Translation.html">
   EoMs for Translation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/Rotation.html">
   EoMs for Rotation
   <span class="math notranslate nohighlight">
    \(\def\dif{\text{d}}\)
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/InertiaTensor.html">
   Inertia Tensor Calculation
   <span class="math notranslate nohighlight">
    \(\def\dif{\text{d}}\)
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../EoMs/Summary.html">
   Summary of the equations of motion
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Linearisation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/Introduction.html">
   The Road so Far…
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/Linearisation.html">
   Linearisation Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/AerodynamicDerivatives.html">
   Stability Derivatives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/Concise.html">
   Concise Form of Dimensional EoMs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/Aerodynamic.html">
   Linear Aerodynamic Terms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/Nondimensional.html">
   Nondimensional Equations of Motion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Linearisation/StateSpaceExample.html">
   Worked Example
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  References and Resources
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../zreferences.html">
   Acknowledgements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../zreferences.html#references">
   References
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div><script data-ad-client="ca-pub-5107176300009857" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Prerequisites/Prerequisites.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/aeronauty/Aircraft-Flight-Mechanics"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/aeronauty/Aircraft-Flight-Mechanics/issues/new?title=Issue%20on%20page%20%2FPrerequisites/Prerequisites.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/aeronauty/Aircraft-Flight-Mechanics/edit/master/Prerequisites/Prerequisites.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/aeronauty/Aircraft-Flight-Mechanics/master?urlpath=tree/Prerequisites/Prerequisites.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> On this page
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aircraft-anatomy">
   Aircraft Anatomy
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wing-parameters">
     Wing parameters
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aerodynamic-propulsive-and-inertial-forces">
   Aerodynamic, Propulsive, and Inertial Forces
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aerodynamic-coefficients">
   Aerodynamic Coefficients
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aerofoils-and-lift">
   Aerofoils and Lift
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#where-does-lift-come-from">
     Where does lift come from?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lift-vs-alpha-and-a-few-other-things">
     Lift vs Alpha (and a few other things).
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compressibility">
     Compressibility
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#viscosity">
     Viscosity
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lift-summary">
     Lift Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#drag">
   Drag
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#skin-friction-drag">
     Skin Friction Drag
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pressure-drag">
     Pressure Drag
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#pressure-drag-1-form-drag">
       Pressure Drag 1:
       <strong>
        Form Drag
       </strong>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#pressure-drag-2-induced-drag">
       Pressure Drag 2:
       <strong>
        Induced Drag
       </strong>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#pressure-drag-3-wave-drag">
       Pressure Drag 3:
       <strong>
        Wave Drag
       </strong>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="assumed-knowledge">
<h1>Assumed knowledge<a class="headerlink" href="#assumed-knowledge" title="Permalink to this headline">¶</a></h1>
<p>This course assumes a certain level of knowledge on the reader and will not be formally taught in class - you will have been taught this at earlier levels in your undergraduate studies but:</p>
<ul class="simple">
<li><p>Students forget things</p></li>
<li><p>Repetition helps to reinforce learning</p></li>
</ul>
<p>So a review of what is assumed of your knowledge is suitable at this juncture.</p>
<div class="section" id="aircraft-anatomy">
<h2>Aircraft Anatomy<a class="headerlink" href="#aircraft-anatomy" title="Permalink to this headline">¶</a></h2>
<p>The basic parts of a standard fixed-wing aircraft are labelled in <a class="reference internal" href="#aircraftcomponents"><span class="std std-numref">Fig. 3</span></a>. Flight is controlled through movable parts of the aircraft, and from adjusting the propulsion.</p>
<div class="figure align-default" id="aircraftcomponents">
<a class="reference internal image-reference" href="../_images/AircraftComponents.png"><img alt="../_images/AircraftComponents.png" src="../_images/AircraftComponents.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">Major Aircraft Components</span><a class="headerlink" href="#aircraftcomponents" title="Permalink to this image">¶</a></p>
</div>
<p>Aircraft have control surfaces in red and high-lift devices in blue in <a class="reference internal" href="#controlsurfaces"><span class="std std-numref">Fig. 4</span></a>. Note that some aircraft have additional flow control devices such as <em>spoilers</em> but there are not discussed here.</p>
<div class="figure align-default" id="controlsurfaces">
<a class="reference internal image-reference" href="../_images/ControlSurfaces.png"><img alt="../_images/ControlSurfaces.png" src="../_images/ControlSurfaces.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">Aircraft Control Surfaces and High Lift Devices</span><a class="headerlink" href="#controlsurfaces" title="Permalink to this image">¶</a></p>
</div>
<p>The control surfaces are there to alter the aircraft’s attitude (its orientation in 3D space). They are:</p>
<ul class="simple">
<li><p><strong>Ailerons</strong> - these are outboard on each wing, and operate in <em>differential mode</em>, meaning if one goes up, the other goes down. These are effected via a sideways stick/yoke movement. This increases lift on one wing, and decreases it on the other, effecting a <em>roll rate</em>, <span class="math notranslate nohighlight">\(p\)</span>, which changes the roll angle, <span class="math notranslate nohighlight">\(\phi\)</span>.</p></li>
<li><p>The <strong>elevator</strong> is usually situated on the horizontal stabiliser, and both sides move together. This increases/decreases the tail lift, and changes the aircraft pitch attitude, <span class="math notranslate nohighlight">\(\theta\)</span>. This is controlled by moving the stick/yoke forward/aft.</p></li>
<li><p>The <strong>rudder</strong> is on the vertical tail, and is a single control surface. If the rudder moves to the port (left), it creates a sideways aerodynamic force on the tail towards starboard (right), which moves the aircraft nose-port to a <em>sideslip angle</em>, <span class="math notranslate nohighlight">\(\beta\)</span>. This is controlled using pedals in the cockpit.</p></li>
</ul>
<p>We will look at <em>trapezoidal wings</em> for most of this course - see <a class="reference internal" href="#trapezoidalwing"><span class="std std-numref">Fig. 5</span></a>. In general, we usually define wing parameters in terms of <strong>gross wing</strong> - see <a href="#id1"><span class="problematic" id="id2">:numred:`WingAreas`</span></a>, <span class="math notranslate nohighlight">\(S\)</span>. We represent the wing with a simple trapezoid:</p>
<div class="figure align-default" id="trapezoidalwing">
<a class="reference internal image-reference" href="../_images/TrapezoidalWing2.png"><img alt="../_images/TrapezoidalWing2.png" src="../_images/TrapezoidalWing2.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">Aircraft Trapezoidal Wing</span><a class="headerlink" href="#trapezoidalwing" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="wingareas">
<a class="reference internal image-reference" href="../_images/TrapezoidalWing.png"><img alt="../_images/TrapezoidalWing.png" src="../_images/TrapezoidalWing.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">Aircraft Wing Areas</span><a class="headerlink" href="#wingareas" title="Permalink to this image">¶</a></p>
</div>
<p>you will note that the swing, <em>sweep</em>, which is a measure of how far back the tip is compared to the root, is measured by the sweep of the quarter-chord line. The <em>chord</em> is the length of the wing in the direction of travel (hence vertical in the image). The so-called <strong>root chord</strong> is usually defined on the aircraft centerline, and not at the actual aircraft root.</p>
<div class="section" id="wing-parameters">
<span id="id3"></span><h3>Wing parameters<a class="headerlink" href="#wing-parameters" title="Permalink to this headline">¶</a></h3>
<p>We can define a few parameters:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    \text{Wing taper ratio: } \lambda &amp;= \frac{c_t}{c_0}\\
    \text{Wing area: } S &amp;= \frac{c_t + c_0}{2}\cdot b =\bar{c}\cdot b\\
    \text{Standard Mean chord: } \bar{c} &amp;= \frac{c_t + c_0}{2}=\frac{S}{b}\\
    \text{Aspect Ratio: } \bar{AR} &amp;= \frac{b}{\bar{c}}=\frac{b^2}{S}\\
    \text{Mean aerodynamic chord: } \bar{\bar{c}} &amp;= \frac{1}{S}\int^{+s}_{-s}c^2\text{d}y
\end{aligned}\end{split}\]</div>
</div>
</div>
<div class="section" id="aerodynamic-propulsive-and-inertial-forces">
<h2>Aerodynamic, Propulsive, and Inertial Forces<a class="headerlink" href="#aerodynamic-propulsive-and-inertial-forces" title="Permalink to this headline">¶</a></h2>
<p>As will be covered in the Aircraft Performance module, the simplest regime of flight is that of <em>steady, level flight</em>. Steady means not accelerating, and level means that there is no variation in altitude - this <em>does not</em> mean that the wings are level, so the aircraft may be turning in a <em>steady turn</em>.</p>
<p>Whilst this will be covered in detail later, the basics of this regime <em>should</em> be familiar from previous courses.</p>
<p>Since the aircraft is not accelerating, the forces must be in equilibrium. We summarise our forces on the aircraft as two aerodynamic forces, one propulsive, and one inertial:</p>
<ul class="simple">
<li><p><strong>Lift</strong> - <span class="math notranslate nohighlight">\(L\)</span> - the aerodynamic force normal to the incident flow velocity, acting in a ‘lifting’ sense.</p></li>
<li><p><strong>Drag</strong> - <span class="math notranslate nohighlight">\(D\)</span> - the aerodynamic force parallel to the incident flow velocity, opposing motion.</p></li>
<li><p><strong>Weight</strong> - <span class="math notranslate nohighlight">\(W\)</span> - the inertial force acting downward; <span class="math notranslate nohighlight">\(W=m\,g\)</span> where <span class="math notranslate nohighlight">\(g=9.80665\text{m}\,\text{s}^{-2}\)</span>, the acceleration due to gravity.</p></li>
<li><p><strong>Thrust</strong> - <span class="math notranslate nohighlight">\(T\)</span> - the propulsive force parallel to the aircraft longitudinal axis, providing motion.</p></li>
</ul>
<div class="figure align-default" id="eqforces">
<a class="reference internal image-reference" href="../_images/EqForces.png"><img alt="../_images/EqForces.png" src="../_images/EqForces.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">Equilibrium Forces</span><a class="headerlink" href="#eqforces" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="aerodynamic-coefficients">
<h2>Aerodynamic Coefficients<a class="headerlink" href="#aerodynamic-coefficients" title="Permalink to this headline">¶</a></h2>
<p>In general, it’s useful to be able to remove units from expressions in engineering for a number of reasons:</p>
<ul class="simple">
<li><p>It enables us to work between unit systems (i.e., between metric and imperial unit systems) without conversion.</p></li>
<li><p>It enables us to compare aircraft of differing sizes in terms of performance.</p></li>
<li><p>It enables us to perform scale model work of aircraft and extend the results to full-size.</p></li>
</ul>
<p>Hence, as presented in the preceding section forces <span class="math notranslate nohighlight">\(L\)</span> and <span class="math notranslate nohighlight">\(D\)</span> represent <em>dimensional</em> lift and drag, which we may measure in Newtons, Pounds-Force, Dyne, or Kip.</p>
<div class="dropdown admonition note">
<p class="admonition-title">Note</p>
<p>You may not have heard of the last two. Don’t worry - we won’t be using them.</p>
</div>
<p>To remove the dimensions from these forces, we divide by something else with the same dimensions. You should be comfortable with the fact that the lift is proportional to the ‘dynamic pressure’, <span class="math notranslate nohighlight">\(q_\infty\)</span></p>
<div class="math notranslate nohighlight">
\[q_\infty=\frac{1}{2}\,\rho\, V^2\]</div>
<p>where <span class="math notranslate nohighlight">\(\rho\)</span> is the fluid density, and <span class="math notranslate nohighlight">\(V\)</span> is the density of the fluid. Dynamic pressure has dimensions of:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    q_\infty=\frac{1}{2}\,\rho\, V^2     &amp;: \frac{\text{kg}}{{\text{m}^3}}\,\left\{\frac{{\text{m}}}{{{\text{s}}}}\right\}^2\\
    &amp;: \frac{\text{kg}}{{\text{m}\text{s}^2}}\\
    &amp;: \left[\frac{\text{M}}{\text{L}\,\text{T}^2}\right]\end{aligned}\end{split}\]</div>
<p>We know that lift and drag may be represented in <em>Newtons</em>, which have units of <span class="math notranslate nohighlight">\({\text{N}}={\text{kg}\,\text{m}\,\text{s}^{-2}}\)</span> which has dimensions of</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
    \left[\frac{\text{M}\,\text{L}}{\text{T}^2}\right]  \end{aligned}\]</div>
<p>to get something that has the same dimensions as the aerodynamic forces, we need to multiply the dynamic pressure by <em>some</em> area. The area that we choose is the <em>wing area</em>, <span class="math notranslate nohighlight">\(S\)</span>, which we’ll define in more detail later. But now we’ve reached the definition of the three-dimensional lift and drag coefficients:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    C_L = \frac{L}{\frac{1}{2}\,\rho\,V^2\,S}\\
    C_D = \frac{D}{\frac{1}{2}\,\rho\,V^2\,S}   \end{aligned}\end{split}\]</div>
<p>The uppercase <span class="math notranslate nohighlight">\(L\)</span> and <span class="math notranslate nohighlight">\(D\)</span> in the subscript means that we’re looking at the three-dimensional lift and drag coefficients. As aeronautical engineers we often like to look at an infinitesimal slice of a wing, which we call an aerofoil/airfoil.</p>
<div class="dropdown admonition note">
<p class="admonition-title">Note</p>
<p>Though I live and work in America, I’m a Brit. Hence the ‘u’s and ‘s’ in place of ‘z’s. Aerofoil is British English, Airfoil is US English.</p>
</div>
<p>If we wish to have the lift and drag quantified on 2D aerofoil, then we look at the <em>lift and drag per unit span</em>, which we denote with a lowercase <span class="math notranslate nohighlight">\(l\)</span> and <span class="math notranslate nohighlight">\(d\)</span>. The corresponding two-dimensional lift and drag coefficients are:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    C_l = \frac{l}{\frac{1}{2}\,\rho\,V^2\,c}\\
    C_d = \frac{d}{\frac{1}{2}\,\rho\,V^2\,c}   \end{aligned}\end{split}\]</div>
<p>where we’ve now introduced a new parameter, <span class="math notranslate nohighlight">\(c\)</span>, in place of the wing area. This <span class="math notranslate nohighlight">\(c\)</span> represents the <em>chord</em> of the aerofoil, which is simply the length from the very front (the leading edge) to the very aft (the trailing edge).</p>
</div>
<div class="section" id="aerofoils-and-lift">
<h2>Aerofoils and Lift<a class="headerlink" href="#aerofoils-and-lift" title="Permalink to this headline">¶</a></h2>
<p>As discussed above, an aerofoil is an infinitesimal section of a wing, which we can represent in two dimensions (this is helpful, as drawing in 3d is difficult!). The simplest aerofoil is a symmetric one.</p>
<div class="dropdown admonition note">
<p class="admonition-title">Note</p>
<p>The simplest aerofoil with thickness - as the simplest ‘foil’ could be argued to be a flat plate.</p>
</div>
<p>The nondimensional longitudinal axis is the <span class="math notranslate nohighlight">\(x\)</span> direction, and the distance from the front (leading edge) to the tail (trailing edge) of the airfoil is the <em>chord</em> line.</p>
<p>The simplest ‘standard’ airfoils are the NACA 4-digit series. Where the four digits are numbers. The format is <span class="math notranslate nohighlight">\(MPXX\)</span> where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(M\)</span> is the maximum camber expressed as a percentage of the chord. In the example <span class="math notranslate nohighlight">\(M\)</span>=2 so the camber is 0.02 or 2% of the chord.</p></li>
<li><p><span class="math notranslate nohighlight">\(P\)</span> is the position (in the <span class="math notranslate nohighlight">\(x\)</span> direction) of the maximum camber expressed in tenths of the chord length. In the example P=4 so the maximum camber is at 0.4 or 40% of the chord.</p></li>
<li><p><span class="math notranslate nohighlight">\(XX\)</span> is the thickness as a percentage. In the example <span class="math notranslate nohighlight">\(XX\)</span>=12 so the thickness is 0.12 or 12% of the chord.</p></li>
</ul>
<p>We have already discussed the chord line, and now also the <em>camber line</em>. For reasons that you should have discovered in your studies, a <em>cambered</em> aerofoil produces more lift and a symmetric one for the same angle of attack (before stall). The camber line is defined as the locus of points midway between the upper and lower surface. For a NACA 4-digit airfoil with nonzero first and second digit, you can immediately observe that the aerofoil will have <em>camber</em>. The camber line is the midpoint between the upper and lower surface at all points.</p>
<p>You should be comfortable with NACA 4 and 5 digit series aerofoils - these are defined by polynominal functions representing the <em>camber line</em> and the <em>thickness distribution</em>. A code snippet below enables you to plot the NACA 4-digit series. Click the rocket and choose ‘launch thebe’ or open this page in Binder to change the aerofoil section.</p>
<div class="cell tag_hide-cell tag_thebe-init docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">naca4</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="s1">&#39;0012&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plots the aerofoil for the given 4 digit NACA number string</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">m</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">number</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">100.0</span>
    <span class="n">p</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">number</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mf">10.0</span>
    <span class="n">t</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">number</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span><span class="o">/</span><span class="mf">100.0</span>

    <span class="n">a0</span> <span class="o">=</span> <span class="o">+</span><span class="mf">0.2969</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1260</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.3516</span>
    <span class="n">a3</span> <span class="o">=</span> <span class="o">+</span><span class="mf">0.2843</span>
    <span class="n">a4</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1015</span>

    <span class="c1"># Make a vector of the x spacing</span>
    <span class="n">x</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="c1"># Get the thickness distribution</span>
    <span class="n">yt</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="p">(</span><span class="n">a0</span><span class="o">*</span><span class="n">x</span><span class="o">**.</span><span class="mi">5</span> <span class="o">+</span> <span class="n">a1</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">a2</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a3</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">a4</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">4</span><span class="p">)</span>
    
    <span class="c1"># Get the camber line</span>
    <span class="n">yc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">yc</span><span class="p">[</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="n">p</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">p</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">]</span> <span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">yc</span><span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="p">((</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">p</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">p</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">p</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Get the gradient of the lines</span>
    <span class="n">dyc_dx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">dyc_dx</span><span class="p">[</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m</span> <span class="o">/</span> <span class="n">p</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">])</span>
        <span class="n">dyc_dx</span><span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">p</span><span class="p">])</span>
    
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan</span><span class="p">(</span><span class="n">dyc_dx</span><span class="p">)</span>
        
    <span class="c1"># Get the upper and lower surfaces</span>
    <span class="n">yu</span> <span class="o">=</span> <span class="n">yc</span> <span class="o">+</span> <span class="n">yt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">yl</span> <span class="o">=</span> <span class="n">yc</span> <span class="o">-</span> <span class="n">yt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    
    <span class="n">xu</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">yt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">xl</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">yt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    
    <span class="c1"># Put into Selig format</span>
<span class="c1">#     Y = np.concatenate((yu[::-1], yl))</span>
<span class="c1">#     X = np.concatenate((x[::-1], x))</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xu</span><span class="p">,</span> <span class="n">yu</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Upper Surface&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xl</span><span class="p">,</span> <span class="n">yl</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Lower Surface&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Camber Line&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[</span><span class="n">yc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">yc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Chord Line&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="c1">#     plt.gca().axis(&#39;off&#39;)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Normalised aerofoil for NACA </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">))</span>
    <span class="k">return</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">notebook</span>
<span class="n">naca4</span><span class="p">(</span><span class="s1">&#39;2406&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (mpl.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: mpl.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * mpl.ratio);
                canvas.setAttribute('height', height * mpl.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / mpl.ratio,
        fig.canvas.height / mpl.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / mpl.ratio;
    fig.root.removeEventListener('remove', this._remove_fig_handler);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / mpl.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function () {
    this.close_ws(this, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
    el.addEventListener('remove', this._remove_fig_handler);
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}
</script><div class="output text_html"><div id='9c7885ba-93e7-4626-88e8-f110cb0ecb3f'></div></div></div>
</div>
<p>The most important parameter for lift is <em>angle of attack</em>. We define the incident velocity at <span class="math notranslate nohighlight">\(V_\infty\)</span>, and the angle of attack is the angle it makes with the chord line of the aerofoil. This angle is given the symbol <span class="math notranslate nohighlight">\(\alpha\)</span> - see <a class="reference internal" href="#aoaalpha"><span class="std std-numref">Fig. 8</span></a>.</p>
<div class="figure align-default" id="aoaalpha">
<a class="reference internal image-reference" href="../_images/AoAAlpha.png"><img alt="../_images/AoAAlpha.png" src="../_images/AoAAlpha.png" style="height: 100px;" /></a>
<p class="caption"><span class="caption-number">Fig. 8 </span><span class="caption-text">Aerofoil Angle of Attack</span><a class="headerlink" href="#aoaalpha" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="where-does-lift-come-from">
<h3>Where does lift come from?<a class="headerlink" href="#where-does-lift-come-from" title="Permalink to this headline">¶</a></h3>
<p>Fundamentally, an aerofoil provides a <em>pressure difference</em> by accelerating the flow over the upper surface, and retarding the flow over the lower surface. <strong>This has nothing to do with the airflow ‘catching up’ at the trailing edge</strong> - and though you’ll find plenty of sources for the so-called Bernoulli fallacy, it is wholly incorrect.</p>
<p>In your third year classes, you will have covered the <em>circulatory theory of lift</em>, and discovered that it is the tendency of the aerofoil to ‘circulate’ the air that provides lift. Hence a symmetric aerofoil at an angle of attack produces lift, and a cambered aerofoil produces some lift at zero angle of attack.</p>
<p>If you want to describe where lift comes from, you can say that ‘<em>an aerofoil with a sharp trailing edge, if immersed in a viscous flowfield, will create about itself sufficient circulation such that the flow leaves the trailing edge smoothly (aka the Kutta condition)</em>.</p>
<p>The key effects of this are:</p>
<ul class="simple">
<li><p>The flow is accelerated over the upper surface and retarded over the lower surface</p></li>
<li><p>This causes a pressure rise on the lower surface and a pressure drop on the upper surface</p></li>
<li><p>These pressures, when integrated, give rise to lift (and some drag, which we’ll talk about later).</p></li>
<li><p>The lift coefficient is linearly proportional to the <em>angle of attack</em>.</p></li>
</ul>
</div>
<div class="section" id="lift-vs-alpha-and-a-few-other-things">
<h3>Lift vs Alpha (and a few other things).<a class="headerlink" href="#lift-vs-alpha-and-a-few-other-things" title="Permalink to this headline">¶</a></h3>
<p>If we plot the lift coefficient vs angle of attack, we get a curve that looks like <a class="reference internal" href="#clalphasymmetric"><span class="std std-numref">Fig. 9</span></a>. You will notice:</p>
<ul class="simple">
<li><p>The first part of the curve is linear, and it has the slope of <span class="math notranslate nohighlight">\(C_L=2\,\pi/\text{rad}\)</span>.</p></li>
<li><p>The lift curve slope is defined as <span class="math notranslate nohighlight">\(a=\frac{\partial C_L}{\partial\alpha}\)</span>, which we define just for this linear part.</p></li>
<li><p>The curve stops being linear as it approaches its maximum - this is the start of nonlinearity.</p></li>
<li><p>The maximum lift the aerofoil can produce is <span class="math notranslate nohighlight">\(C_{Lmax}\)</span>.</p></li>
<li><p>At angles of attack beyond <span class="math notranslate nohighlight">\(\alpha_{stall}\)</span>, the aerofoil is fully stalled and the flow is <em>separated</em></p></li>
<li><p>It <em>should</em> be <span class="math notranslate nohighlight">\(C_l\)</span> and not <span class="math notranslate nohighlight">\(C_L\)</span> on the y-axis, but I am too lazy to correct it.</p></li>
</ul>
<p>For the symmetric aerofoil, we can determine the lift from <span class="math notranslate nohighlight">\(C_L=a\,\alpha\)</span>, where <span class="math notranslate nohighlight">\(a\)</span> is the lift curve slope. When we introduce camber to the aerofoil, we shift the <span class="math notranslate nohighlight">\(C_L-\alpha\)</span> curve to the left. You’ll note that for the symmetric aerofoil, there is zero lift produced at an angle of attack of zero. The cambered aerofoil produces <span class="math notranslate nohighlight">\(C_{L0}\)</span> at <span class="math notranslate nohighlight">\(\alpha=0\)</span>, and we note that there is some negative angle of attack at which it produces zero lift, which we call <span class="math notranslate nohighlight">\(\alpha_0\)</span>. <a class="reference internal" href="#clalphacambered"><span class="std std-numref">Fig. 10</span></a>:</p>
<p>The lift curve slope of a cambered aerofoil will be the same, so the lift of a cambered aerofoil can be determined from <span class="math notranslate nohighlight">\(C_L=a\left[\alpha-\alpha_0\right]\)</span>.</p>
<div class="figure align-default" id="clalphasymmetric">
<a class="reference internal image-reference" href="../_images/ClAlphaSymmetric.png"><img alt="../_images/ClAlphaSymmetric.png" src="../_images/ClAlphaSymmetric.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 9 </span><span class="caption-text">Lift Coefficient vs Angle of Attack - Symmetric Aerofoil</span><a class="headerlink" href="#clalphasymmetric" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="clalphacambered">
<a class="reference internal image-reference" href="../_images/ClAlphaCambered.png"><img alt="../_images/ClAlphaCambered.png" src="../_images/ClAlphaCambered.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 10 </span><span class="caption-text">Lift Coefficient vs Angle of Attack - Cambered Aerofoil</span><a class="headerlink" href="#clalphacambered" title="Permalink to this image">¶</a></p>
</div>
<p>In general, we can use <span class="math notranslate nohighlight">\(C_L\)</span> to compare aerodynamic performance, and we note that <span class="math notranslate nohighlight">\(C_L\)</span> is simply a function of the angle of attack. However, <span class="math notranslate nohighlight">\(C_L\)</span> is also a function of two important parameters that we’ll mention here:</p>
</div>
<div class="section" id="compressibility">
<h3>Compressibility<a class="headerlink" href="#compressibility" title="Permalink to this headline">¶</a></h3>
<p>The fastest that information can travel through a fluid is the speed of sound, <span class="math notranslate nohighlight">\(a=\sqrt{\gamma\,R\,T}\)</span> where the speed of sound at sea-level is around 340. Because the aerofoil disturbs the flow around it, these disturbances move at the speed of sound.</p>
<p>As the fluid velocity gets faster, these disturbances travel at rates that are slower and slower compared to the fluid velocity. Whilst we won’t get into the mathematics of compressible flow, we can probably see that the lift produced will be a function of how fast the fluid is traveling compared to the speed of sound. So we have just defined the <em>Mach number</em>, which is our dimensionless measure of speed compared to <span class="math notranslate nohighlight">\(a\)</span>:</p>
<div class="math notranslate nohighlight">
\[M=\frac{V}{a}\]</div>
</div>
<div class="section" id="viscosity">
<h3>Viscosity<a class="headerlink" href="#viscosity" title="Permalink to this headline">¶</a></h3>
<p>How ‘sticky’ the air is affects how well it adheres to the aerofoil, and hence when stall will occur. It also affects how much drag is produced. Aerodynamicists use another dimensionless parameter, <em>Reynold’s number</em>, which is the ratio of the <em>inertial forces</em> to the <em>viscous forces</em> in a fluid.</p>
<div class="math notranslate nohighlight">
\[Re=\frac{\rho\,V\,l}{\mu}\]</div>
<p>Where <span class="math notranslate nohighlight">\(\rho\)</span> and <span class="math notranslate nohighlight">\(V\)</span> are as they were before, and <span class="math notranslate nohighlight">\(l\)</span> is the ‘characteristic length’. If we’re looking at aerofoils, it will be the chord length. For other problems, it might be the length of the whole aircraft. <span class="math notranslate nohighlight">\(\mu\)</span> is the <em>dynamic viscosity</em> which has units of . Check that this is dimensionless using the same technique as we did for the lift coefficient.</p>
</div>
<div class="section" id="lift-summary">
<h3>Lift Summary<a class="headerlink" href="#lift-summary" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Lift is the aerodynamic force arising from a pressure differential due to the flow being accelerated over the top of a lifting surface, and retarded over the bottom.</p></li>
<li><p>For our purposes, lift is associated with the creation of ‘circulation’ which is the tendency of the flow to circulate the aerofoil in a manner which causes this flow change.</p></li>
</ul>
<div class="dropdown admonition note">
<p class="admonition-title">Note</p>
<p>Lift can be produced in supersonic flow, and in impulsive flow without circulation, but these are graduate-level topics.</p>
</div>
<ul class="simple">
<li><p>The lift coefficient is primarily a function of angle of attack, and this relationship is linear until stall.</p></li>
<li><p>The lift coefficient is also a function of Mach number and Reynold’s number, so care must be taken when comparing data from dissimilar flow regimes.</p></li>
</ul>
</div>
</div>
<div class="section" id="drag">
<h2>Drag<a class="headerlink" href="#drag" title="Permalink to this headline">¶</a></h2>
<p>Drag the component of aerodynamic force that opposes aircraft motion. Whilst it might appear slightly more easy to intuit than lift, it can be a whole load more complicated. Semenal textbooks are written on Drag, so the following is presented as a simplification to be able to use drag to develop relationships for aircraft flight mechanics. We’ll firstly describe two main sources of drag:</p>
<div class="section" id="skin-friction-drag">
<h3>Skin Friction Drag<a class="headerlink" href="#skin-friction-drag" title="Permalink to this headline">¶</a></h3>
<p>Skin friction drag is a direct result of viscosity. We discussed the concept of a <em>boundary layer</em> in class, and we know that the flow directly next to the surface of a solid body is <em>stagnant</em> - this is why dust doesn’t get removed from your moving car!</p>
<p>Fundamentally, we can consider the fluid velocity closest to the surface as zero, and it increasing with the distance from the surface until it reaches the freestream velocity. In order for the flow to be retarded, work needs to be done to it, and this is transferred through shear forces in the fluid and frictional forces between the fluid and solid body. This force is applied to the body in the same direction is fluid motion, and is called <strong>skin friction drag</strong>.</p>
<p>We note that for more complex geometries such as aerofoils, the local surface direction may not be the same as the streamwise direction, so the component of the force parallel to the inclement freestream must be calculated.</p>
</div>
<div class="section" id="pressure-drag">
<h3>Pressure Drag<a class="headerlink" href="#pressure-drag" title="Permalink to this headline">¶</a></h3>
<p>We have already established that <em>lift</em> is caused by a pressure difference on an aerofoil being resolved into the direction normal to the fluid motion. If we resolve these pressures into a direction parallel to the freestream, we arrive at <strong>pressure drag</strong>. We further subdivide pressure drag into:</p>
<div class="section" id="pressure-drag-1-form-drag">
<h4>Pressure Drag 1: <strong>Form Drag</strong><a class="headerlink" href="#pressure-drag-1-form-drag" title="Permalink to this headline">¶</a></h4>
<p>Associated with the growth of a boundary layer. We can appreciate that the boundary layer, and a trailed wake will change the effective size of a body that a fluid must move around. Hence a large boundary layer will cause more drag.
If we recall our ideal cylinder in 2D flow, we’ll note that it has zero drag (no wake, no pressure drag, no friction):</p>
<p>As we introduce viscosity, we also introduce the Reynold’s number of the flow, and change the attachment and separation points. This gives us a <em>wake</em> of varying size, which depends on the Reynold’s number:</p>
<div class="figure align-default" id="dcylinder">
<a class="reference internal image-reference" href="../_images/2DCylinderWake.png"><img alt="../_images/2DCylinderWake.png" src="../_images/2DCylinderWake.png" style="height: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 11 </span><span class="caption-text">Different Wakes Behind 2D Cylinder Dependent on Re: Borrowed from Heat Transfer by A. Mills</span><a class="headerlink" href="#dcylinder" title="Permalink to this image">¶</a></p>
</div>
<p>Note that the size of the wake is not necessarily a linear or continuous function of the Reynold’s number between these two examples - but for these two examples, the <strong>form drag</strong> would be higher with the lower <span class="math notranslate nohighlight">\(Re\)</span> example.</p>
</div>
<div class="section" id="pressure-drag-2-induced-drag">
<h4>Pressure Drag 2:  <strong>Induced Drag</strong><a class="headerlink" href="#pressure-drag-2-induced-drag" title="Permalink to this headline">¶</a></h4>
<p>A 3D effect associated with a trailing vortex system. A wing that produces lift will produce a tip vortex, causing the air to rotate behind the aircraft. The energy associated with imparting this rotational motion to the air is <strong>induced drag</strong>.</p>
</div>
<div class="section" id="pressure-drag-3-wave-drag">
<h4>Pressure Drag 3: <strong>Wave Drag</strong><a class="headerlink" href="#pressure-drag-3-wave-drag" title="Permalink to this headline">¶</a></h4>
<p>Associated with shocks. We don’t really need to cover it in this course</p>
<p>Of the components of drag above, we note that both <em>skin friction</em> and <em>form drag</em> are due to viscosity, and hence cannot be modelled in the potential/’ideal’ aerodynamic model we developed in class. We’ll lump these two together and call it <em>profile drag</em>, which is the <em>combined drag due to viscous effects</em>.</p>
<p>To reduce form drag, we want a ‘nice’ separation (a laminar one). This has been known since at least 1810 when Sir George Cayley produced his minimum drag shape (which it has been suggested was modelled on a Trout!):</p>
<div class="figure align-default" id="trout">
<a class="reference internal image-reference" href="../_images/Trout.png"><img alt="../_images/Trout.png" src="../_images/Trout.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 12 </span><span class="caption-text">Sir George Cayley’s Minimum Drag Shape</span><a class="headerlink" href="#trout" title="Permalink to this image">¶</a></p>
</div>
<p>We can see a similarity with a basic aerofoil shape:</p>
<ul class="simple">
<li><p>Rapid change in thickness at the leading edge.</p></li>
<li><p>Gentle change in thickness towards the trailing edge.</p></li>
<li><p>Sharp trailing edge.</p></li>
</ul>
<p>These things help reduce form drag by having laminar separation, but in doing so we’ve <em>increased</em> the surface area of the body. Thus, we have increased skin friction drag. It follows that <strong>to minimise profile drag, we have a compromise between skin friction and form drag</strong>. We can see that a flat plate and cylinder of the same cross-sectional area have different total drag due to form drag - see:</p>
<div class="figure align-default" id="sfandformdrag">
<a class="reference internal image-reference" href="../_images/SFandFormDrag.png"><img alt="../_images/SFandFormDrag.png" src="../_images/SFandFormDrag.png" style="height: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 13 </span><span class="caption-text">Skin Friction and Form Drag: Borrowed from Unknown Source</span><a class="headerlink" href="#sfandformdrag" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "aeronauty/Aircraft-Flight-Mechanics",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Prerequisites"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../CourseIntroduction.html" title="previous page">Course Introduction</a>
    <a class='right-next' id="next-link" href="../AircraftPerformance/Introduction.html" title="next page">Aircraft Performance</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Harry Smith<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            <div>
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Aircraft Flight Mechanics</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="www.aircraftflightmechanics.com" property="cc:attributionName" rel="cc:attributionURL">Harry Smith</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="www.aircraftflightmechanics.com" rel="dct:source">www.aircraftflightmechanics.com</a>.
</div>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-178506186-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>